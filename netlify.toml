[build.environment]
HUGO_VERSION = "0.143.1"
NODE_VERSION = "22"
TZ = "America/Arizona"

[build]
publish = "public"
command = "pnpm run build:prod"

# Default to production behavior, staging site will override via environment variables

# Stage-specific build configuration
[context.stage]
command = "pnpm run build:stage"
environment = { ENVIRONMENT = "stage" }

# Production-specific build configuration  
[context.production]
command = "pnpm run build:prod"
environment = { ENVIRONMENT = "production" }

# Deploy preview (for pull requests)
[context.deploy-preview]
command = "pnpm run build:stage"
environment = { ENVIRONMENT = "stage" } 
