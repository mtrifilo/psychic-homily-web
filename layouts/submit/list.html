{{ define "head" }}
<!-- Load React CSS through Hugo asset pipeline -->
{{ $css := resources.Get "js/index.css" | resources.Fingerprint }}
<link
  rel="stylesheet"
  href="{{ $css.RelPermalink }}"
  integrity="{{ $css.Data.Integrity }}"
/>
{{ end }} {{ define "main" }}
<div class="react-page pa3 pa4-ns w-100 w-70-ns center">
  <h1 class="flex justify-center f2 mb3">{{ .Title }}</h1>

  {{ with .Content }}
  <div class="mb4 lh-copy">{{ . | safeHTML }}</div>
  {{ end }}

  <!-- React mounting point -->
  <div id="root">
    <!-- Fallback content while React loads -->
    <div class="bg-light-gray pa3 br2">
      <p>Loading submission form...</p>
    </div>
  </div>
</div>

<!-- Load React bundle through Hugo asset pipeline -->
{{ $js := resources.Get "js/index.js" | resources.Fingerprint }}
<script
  type="module"
  src="{{ $js.RelPermalink }}"
  integrity="{{ $js.Data.Integrity }}"
></script>
{{ end }}
